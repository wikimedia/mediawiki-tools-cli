images: 
  # docker dev env: Base services
  - image: defreitas/dns-proxy-server:3.5.2
  - image: jwilder/nginx-proxy:0.10
  # docker dev env: MediaWiki related services
  - image: docker-registry.wikimedia.org/releng/node16-test-browser:0.1.0
  - image: docker-registry.wikimedia.org/releng/quibble-buster-php81:1.5.3
  - image: docker-registry.wikimedia.org/dev/buster-php81-fpm:1.0.0
  - image: docker-registry.wikimedia.org/dev/buster-apache2:2.0.0-s2
  # docker dev env: Misc services
  - image: postgres:13.10
    requireRegex: 13\.\d+$
  - image: mariadb:10.9
    requireRegex: 10\.\d+$
  - image: phpmyadmin/phpmyadmin:5
    noCheck: true
  - image: adminer:4
    noCheck: true
  - image: mailhog/mailhog:v1.0.1
    requireRegex: v1\.\d+(\.\d+)?
  - image: memcached:1.6
    requireRegex: 1\.\d+$
  - image: redis:6.2
    requireRegex: 6\.\d+$
  - image: quay.io/keycloak/keycloak:18.0.0
    requireRegex: 18\.\d+\.\d+
  - image: graphiteapp/graphite-statsd:1.1.10-4
    requireRegex: 1\.\d+\.\d+(\-\d+)
  - image: docker-registry.wikimedia.org/dev/stretch-elasticsearch:0.1.0
  # docker dev env: Other stuff
  - image: alpine/socat:1.7.4.4-r0
    requireRegex: 1\.\d+\.\d+(\.\d+)?(-r\d+)?$
  # docker dev env: Regularly released WMF production images
  - image: docker-registry.wikimedia.org/wikimedia/eventgate-wikimedia:2023-02-14-162241-production
    requireRegex: \d{4}\-\d{2}\-\d{2}\-\d{6}\-production
  # Latest images...
  - image: ubuntu:latest
    noCheck: true
  - image: registry.gitlab.com/gitlab-org/release-cli:latest
    noCheck: true
  - image: registry.gitlab.com/dependabot-gitlab/dependabot:latest
    noCheck: true
  # Golang CI images
  - image: docker-registry.wikimedia.org/golang1.18:1.18-1-20230129
  - image: golang:1.18
    noCheck: true
imageGroups:
  # docker dev env: Regularly released WMF production images
  - name: docker-registry.wikimedia.org/wikimedia/mediawiki-libs-shellbox
    sameTagMatcher: ^(\d{4}\-\d{2}\-\d{2}\-\d{6})\-
    images:
      - image: docker-registry.wikimedia.org/wikimedia/mediawiki-libs-shellbox:2023-03-12-165531-media
        requireRegex: \d{4}\-\d{2}\-\d{2}\-\d{6}\-media
      - image: docker-registry.wikimedia.org/wikimedia/mediawiki-libs-shellbox:2023-03-12-165531-php-rpc
        requireRegex: \d{4}\-\d{2}\-\d{2}\-\d{6}\-php-rpc
      - image: docker-registry.wikimedia.org/wikimedia/mediawiki-libs-shellbox:2023-03-12-165531-score
        requireRegex: \d{4}\-\d{2}\-\d{2}\-\d{6}\-score
      - image: docker-registry.wikimedia.org/wikimedia/mediawiki-libs-shellbox:2023-03-12-165531-syntaxhighlight
        requireRegex: \d{4}\-\d{2}\-\d{2}\-\d{6}\-syntaxhighlight
      - image: docker-registry.wikimedia.org/wikimedia/mediawiki-libs-shellbox:2023-03-12-165531-timeline
        requireRegex: \d{4}\-\d{2}\-\d{2}\-\d{6}\-timeline
# Files and directories to check
files:
directories:
  - internal/mwdd/files/embed
  - .gitlab/pipelines
